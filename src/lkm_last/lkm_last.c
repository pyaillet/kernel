#include <linux/init.h>
#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/delay.h>

MODULE_LICENSE("GPL");
MODULE_AUTHOR("Pierre-Yves Aillet");
MODULE_DESCRIPTION("A simple example Linux module.");
MODULE_VERSION("0.01");

const char* msg[] = {"\n",
"   KERNEL PANIC ! The Talk is over.\n",
"   Thank you !\n",
"\n",
"   â–„â–„â–„â–„â–„â–„â–„  â–„  â–„â–„  â–„â–„â–„â–„  â–„â–„â–„â–„â–„â–„â–„  \n",
"   â–ˆ â–„â–„â–„ â–ˆ â–„â–„â–ˆâ–€â–ˆâ–„â–ˆâ–€â–ˆâ–€ â–€â–ˆ â–ˆ â–„â–„â–„ â–ˆ  \n",
"   â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ  â–€â–ˆâ–€ â–€â–ˆâ–€ â–„â–ˆâ–ˆ  â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ  \n",
"   â–ˆâ–„â–„â–„â–„â–„â–ˆ â–„â–€â–„ â–„â–€â–„ â–„â–€â–ˆâ–€â–ˆ â–ˆâ–„â–„â–„â–„â–„â–ˆ  \n",
"   â–„â–„â–„ â–„â–„â–„â–„â–ˆâ–€â–ˆâ–„â–€â–€â–ˆâ–„â–ˆâ–ˆ â–ˆ â–„â–„   â–„    \n",
"   â–ˆâ–„    â–„ â–„â–„â–€â–€ â–„â–€â–€â–„   â–ˆâ–„â–ˆ â–„â–€â–„â–„â–ˆ  \n",
"   â–ˆâ–ˆâ–„  â–ˆâ–„â–„â–€  â–€â–„  â–ˆâ–ˆâ–ˆ â–€ â–„â–„â–€â–€â–„ â–ˆâ–„  \n",
"   â–„â–„â–€â–„â–€ â–„â–€ â–„ â–ˆâ–ˆâ–€â–„ â–€â–€  â–€â–€â–ˆ â–„â–ˆ â–„â–ˆ  \n",
"   â–€â–„ â–€â–ˆâ–€â–„â–€â–€â–ˆâ–„â–„â–€â–€â–ˆâ–€â–ˆâ–ˆâ–€â–„â–ˆâ–€â–ˆâ–„ â–ˆ â–ˆâ–„  \n",
"   â–„â–€â–„ â–€â–€â–„â–€â–€â–ˆâ–€â–€ â–„â–€ â–ˆâ–€â–€  â–ˆâ–€â–„â–„â–€â–€â–„â–ˆ  \n",
"   â–„â–€  â–ˆâ–ˆâ–„â–„â–ˆâ–ˆâ–„â–€â–„  â–„â–ˆâ–ˆâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€ â–€   \n",
"   â–„â–„â–„â–„â–„â–„â–„ â–ˆ â–„â–ˆâ–ˆâ–€â–„ â–ˆâ–„ â–ˆâ–ˆ â–„ â–ˆâ–„â–€â–ˆâ–ˆ  \n",
"   â–ˆ â–„â–„â–„ â–ˆ â–ˆâ–ˆ â–„â–€â–€â–ˆ  â–ˆâ–€ â–ˆâ–„â–„â–„â–ˆâ–€ â–€â–ˆ  \n",
"   â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–„ â–ˆâ–€ â–„â–€ â–€â–„â–„â–„â–€  â–ˆâ–ˆâ–„â–€â–€â–ˆ  \n",
"   â–ˆâ–„â–„â–„â–„â–„â–ˆ â–ˆâ–€â–€â–€â–„  â–€â–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆ â–„â–ˆ  â–ˆâ–„  \n",
"\n",
"   https://github.com/pyaillet/kernel\n"};

static int __init lkm_example_init(void) {
 int i;
 for(i=0; i<21; ++i) {
  printk( KERN_ERR "%s", msg[i]);
 }
 msleep(500);
 panic("STOP");
 return 0;
}

static void __exit lkm_example_exit(void) {
 printk(KERN_INFO "Goodbye, World! ðŸ‘‹ \n");
}

module_init(lkm_example_init);
module_exit(lkm_example_exit);

